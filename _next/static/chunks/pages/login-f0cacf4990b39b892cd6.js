(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{9417:function(e,t,n){"use strict";var s=n(5893),i=n(5675);t.Z=function(e){var t=e.src,n=e.alt,l=e.quality,a=e.layout,r=e.width,o=e.height,c=e.placeholder,u=e.classnames;return(0,s.jsx)("div",{className:u,children:(0,s.jsx)(i.default,{src:t,alt:n,layout:a,width:r,height:o,quality:l,placeholder:c})})}},2914:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var s=n(5893),i=n(9008),l=n(7294),a=n(1163),r=function(e){var t=e.onSubmit,n=e.handleCheck,i="shadow-ds2 mt-4 px-3 border-none text-xs font-semibold h-10 rounded-lg";return(0,s.jsxs)("form",{id:"loginForm",className:"flex flex-col w-full lg:w-4/5",onSubmit:t,children:[(0,s.jsx)("input",{type:"text",id:"username",placeholder:"Username",className:i,required:!0}),(0,s.jsx)("input",{id:"password",type:"password",placeholder:"Password",className:i,required:!0}),(0,s.jsx)("div",{className:"flex justify-between mt-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{className:"w-3 h-3 mr-2",type:"checkbox",onChange:n}),(0,s.jsx)("p",{className:"text-xs text-blue",children:"Remember Me"})]})})]})},o=function(e){var t=e.onSubmit,n="shadow-ds2 mt-4 border-none text-xs font-semibold h-10 rounded-lg",i=(0,l.useState)(""),a=i[0],r=i[1],o=(0,l.useState)(!0),c=o[0],u=o[1];return(0,s.jsxs)("form",{id:"signUpForm",className:"flex flex-col w-full lg:w-4/5",onSubmit:c?t:function(e){e.preventDefault()},children:[(0,s.jsx)("input",{id:"username",type:"text",placeholder:"Username",className:n,required:!0}),(0,s.jsx)("input",{id:"email",type:"email",placeholder:"Email",className:n,required:!0}),(0,s.jsx)("input",{id:"password",type:"password",placeholder:"Password",className:n,onChange:function(e){var t=e.target.value;return r(t),!0},required:!0,style:c?{border:"1px solid #ffffff00"}:{border:"1px solid #ff0022"}}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm Password",className:n,onChange:function(e){var t=e.target.value,n=a===t;return u(n),n},required:!0,style:c?{border:"1px solid #ffffff00"}:{border:"1px solid #ff0022"}})]})},c=n(809),u=n.n(c),d=n(2447),m=n(3283);function g(){return(g=(0,d.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/signup",e.next=3,m.b.post("/signup",t);case 3:return n=e.sent,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,d.Z)(u().mark((function e(t){var n,s,i,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/login",e.next=3,m.b.post("/login",t);case 3:if(n=e.sent,s=n.data.data.token,i=n.data.data.userRole,l=n.data.data.faculty,"Admin"==i||"FCSC"==l){e.next=9;break}throw{response:{data:{message:"You are not authorized to access this page."}}};case 9:return s&&(window.localStorage.setItem("Token",s),window.localStorage.setItem("Role",i)),e.abrupt("return",n.data.data);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n(6587),h=n(6455),p=n.n(h),w=function(e){var t=e.login,n=e.loginToggleHandler,i=(0,l.useState)(!1),c=i[0],u=i[1],d=(0,l.useState)(!1),m=d[0],h=d[1],w=(0,a.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{show:c}),(0,s.jsxs)("div",{className:"flex flex-col order-1 lg:order-none items-center lg:w-6/12 lg:justify-center lg:transform lg:scale-90",children:[(0,s.jsx)("h2",{className:"font-extrabold text-fcsc-blue text-3xl mb-2",children:t?"LOGIN":"Sign Up"}),(0,s.jsxs)("p",{className:"text-textBlackSecondary font-medium mb-6 text-sm",children:[t?"Login":"Sign up"," to access the best things!"]}),(0,s.jsx)("p",{className:"text-sm border-b-2 w-full lg:w-4/5 text-center mb-2",style:{color:"#D2D2D2",lineHeight:"0.1rem",borderColor:"#D2D2D2"}}),t?(0,s.jsx)(r,{onSubmit:function(e){e.preventDefault(),u(!0),function(e){return f.apply(this,arguments)}({username:e.target.username.value,password:e.target.password.value}).then((function(){u(!1),window.localStorage.setItem("RememberMe",m.toString()),window.localStorage.setItem("LoggedIn","true"),document.dispatchEvent(new Event("login")),p().fire({heightAuto:!1,icon:"success",title:'<div class="text-2xl">Signed in sucessfully!</div>',showConfirmButton:!1,timer:1500,willClose:function(){clearInterval(undefined)}}).then((function(){w.push({pathname:"/admin"})}))})).catch((function(){u(!1),p().fire({icon:"error",heightAuto:!1,title:'<div class="text-2xl">Failed to sign in!</div>',showConfirmButton:!1,timer:1500})}))},handleCheck:function(){return h(!m)}}):(0,s.jsx)(o,{onSubmit:function(e){e.preventDefault(),u(!0),function(e){return g.apply(this,arguments)}({username:e.target.username.value,email:e.target.email.value,password:e.target.password.value}).then((function(){u(!1),p().fire({heightAuto:!1,icon:"success",title:'<div class="text-2xl">Signed up sucessfully!</div>',showConfirmButton:!1,timer:1500,willClose:function(){clearInterval(undefined)}}).then((function(){n()}))})).catch((function(){u(!1),p().fire({icon:"error",heightAuto:!1,title:'<div class="text-2xl">Failed to sign up!</div>',showConfirmButton:!1,timer:1500})}))}}),(0,s.jsx)("button",{className:"w-full lg:w-4/5 bg-fcsc-orange filter hover:brightness-110 shadow-md hover:shadow-lg rounded-lg outline-none text-sm leading-6 text-white font-semibold h-10 mt-4 mb-12 transition ease-in duration-150",form:t?"loginForm":"signUpForm",children:t?"Login":"Sign Up"})]})]})},v=n(9417),b={src:"/_next/static/image/public/login/login.f2cf36ed8ab80655f412ae93b75238dd.svg",height:500,width:500},j=function(e){var t="flex flex-col items-center justify-center lg:justify-center lg:w-6/12 lg:items-center",n="mb-6 lg:mb-0 w-3/4 lg:w-5/6 transform scale-115";return e.login?(0,s.jsx)("div",{className:t,children:(0,s.jsx)(v.Z,{classnames:n,src:b,alt:"sign up",layout:"intrinsic",quality:90})}):(0,s.jsxs)("div",{className:t,children:[(0,s.jsxs)("p",{className:"text-center text-textBlackTertiary mb-6 lg:text-left lg:w-5/6 lg:text-sm lg:p-6",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi diam vitae non elementum tincidunt."," "]}),(0,s.jsx)(v.Z,{classnames:n,src:b,alt:"sign up",layout:"intrinsic",quality:90})]})},y=n(1770),N={src:"/_next/static/image/public/patterns/linebreak.e9eb8bb7390d1bb0bc9ec3f0f02653e1.svg",height:743,width:25},S=function(){var e=3e3,t=(0,l.useState)(!0),n=t[0],i=t[1],a=(0,l.useState)(-3e3),r=a[0],o=a[1],c=(0,l.useState)(0),u=c[0],d=c[1],m=(0,l.useState)(!0),g=m[0],f=m[1],x=function(){i(!n),h()},h=function(){o(0),d(e),setTimeout((function(){f(!1),d(-3e3)}),150),setTimeout((function(){f(!0),d(0)}),300)},p="hidden lg:block lg:w-3.5 lg:h-full",b="flex flex-col lg:flex lg:flex-row",S="text-fcsc-blue text-3xl font-extrabold text-center mb-4",C="flex justify-center items-center lg:grid lg:grid-cols-2",k=(0,s.jsxs)("div",{className:C,children:[(0,s.jsx)("div",{className:S,children:"FCSC WEB PORTAL"}),(0,s.jsx)("div",{})]}),_=(0,s.jsxs)("div",{className:C,children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:S,children:"FCSC WEB PORTAL"})]}),q=(0,s.jsxs)("div",{className:b,children:[(0,s.jsx)(j,{login:!0}),(0,s.jsx)("div",{className:"lg:my-auto",children:(0,s.jsx)(v.Z,{classnames:p,src:N,alt:"sign up",layout:"intrinsic",quality:90})}),(0,s.jsx)(w,{login:!0,loginToggleHandler:x})]}),F=(0,s.jsxs)("div",{className:b,children:[(0,s.jsx)(w,{login:!1,loginToggleHandler:x}),(0,s.jsx)("div",{className:"lg:my-auto",children:(0,s.jsx)(v.Z,{classnames:p,src:N,alt:"sign up",layout:"intrinsic",quality:90})}),(0,s.jsx)(j,{login:!1})]});return(0,s.jsxs)(y.E.div,{className:g?"w-full h-full bg-white px-5 pt-10 my-auto lg:p-6 lg:pt-16 lg:pb-6 lg:mx-auto lg:my-auto lg:w-4/6 lg:h-5/6 rounded-3xl shadow-ds2 grid row-span-1 opacity-100":"w-full h-full bg-white px-5 pt-10 my-auto lg:p-6 lg:pt-16 lg:pb-6 lg:mx-auto lg:my-auto lg:w-4/6 lg:h-5/6 rounded-3xl shadow-ds2 grid row-span-1 opacity-0 pointer-events-none",initial:{x:r},animate:{x:u},transition:{type:"spring",stiffness:200,damping:20},children:[n?k:_,n?q:F]})},C=function(){return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.default,{children:[(0,s.jsx)("title",{children:"Login | FCSC"}),(0,s.jsx)("meta",{name:"description",content:"FCSC website login"})]}),(0,s.jsx)("div",{className:"flex p-3 lg:p-0 min-h-95vh",style:{background:"url(/shapes/1.svg) no-repeat center center ",backgroundSize:"cover"},children:(0,s.jsx)(S,{})})]})}},7237:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(2914)}])}},function(e){e.O(0,[774,888,179],(function(){return t=7237,e(e.s=t);var t}));var t=e.O();_N_E=t}]);